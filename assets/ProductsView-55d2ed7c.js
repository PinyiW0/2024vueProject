import{_ as B,o as m,c as h,a as s,t as u,b as I,j as nt,F as L,r as S,k as it,l as ot,m as at,p as lt,h as V,i as g,q as dt,s as ct,f as D,d as ut,v as mt,n as k}from"./index-e09b6f40.js";const ht={props:["tempData","addToCart"],data(){return{userProductMoreModal:null,pData:{},qty:1}},methods:{openModal(){this.userProductMoreModal.show()},closeModal(){this.userProductMoreModal.hide(),this.qty=1}},watch:{tempData(){this.qty=1}},mounted(){this.userProductMoreModal=new this.$bs.Modal(this.$refs.userProductMoreModal,{keyboard:!1,backdrop:"static"})}},ft={class:"modal fade",id:"userProductMoreModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"userProductMoreModal"},_t={class:"modal-dialog modal-xl",role:"document"},gt={class:"modal-content border-0"},yt={class:"modal-header bg-dark text-white"},pt={class:"modal-title",id:"exampleModalLabel"},At={class:"modal-body"},bt={class:"row my-3"},$t={class:"col-sm-6"},Zt=["src"],xt={class:"col-sm-6"},vt={class:"badge bg-primary rounded-pill"},Vt=s("h6",null,"商品描述：",-1),kt=s("h6",null,"商品內容：",-1),Ct={key:0,class:"h5"},Mt={key:1},Pt={class:"h6"},wt={class:"h5 text-danger"},Ot={class:"input-group mb-3"},Dt=["value"];function Lt(t,e,r,n,i,a){return m(),h("div",ft,[s("div",_t,[s("div",gt,[s("div",yt,[s("h5",pt,[s("span",null,u(r.tempData.title),1)]),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=(...l)=>a.closeModal&&a.closeModal(...l))})]),s("div",At,[s("div",bt,[s("div",$t,[s("img",{class:"img-fluid",src:r.tempData.imageUrl,alt:""},null,8,Zt)]),s("div",xt,[s("span",vt,u(),1),Vt,s("p",null,u(r.tempData.description),1),kt,s("p",null,u(r.tempData.content),1),r.tempData.origin_price===r.tempData.price?(m(),h("div",Ct,u(r.tempData.price)+" 元",1)):(m(),h("div",Mt,[s("del",Pt,"原價 "+u(r.tempData.origin_price)+" 元",1),s("div",wt,"銷售價 "+u(r.tempData.price)+" 元",1)])),s("div",null,[s("div",Ot,[I(s("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=l=>i.qty=l)},[(m(),h(L,null,S(20,l=>s("option",{value:l,key:l},u(l),9,Dt)),64))],512),[[nt,i.qty]]),s("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=l=>r.addToCart(r.tempData.id,i.qty))},"加入購物車 ")])])])])])])])],512)}const St=B(ht,[["render",Lt]]);/**
  * vee-validate v4.12.5
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */const C={en:/^[A-Z]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[A-ZÆØÅ]*$/i,de:/^[A-ZÄÖÜß]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,nl:/^[A-ZÉËÏÓÖÜ]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[А-ЯЁ]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[A-ZČĆŽŠĐ]*$/i,sv:/^[A-ZÅÄÖ]*$/i,tr:/^[A-ZÇĞİıÖŞÜ]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},M={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},P={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[0-9A-ZÆØÅ]$/i,de:/^[0-9A-ZÄÖÜß]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[0-9А-ЯЁ]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[0-9A-ZČĆŽŠĐ]*$/i,sv:/^[0-9A-ZÅÄÖ]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},w={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,da:/^[0-9A-ZÆØÅ_-]*$/i,de:/^[0-9A-ZÄÖÜß_-]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ_-]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,ru:/^[0-9А-ЯЁ_-]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA_-]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,sr:/^[0-9A-ZČĆŽŠĐ_-]*$/i,sv:/^[0-9A-ZÅÄÖ_-]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ_-]*$/i},O=t=>{if(t)return Array.isArray(t)?t[0]:t.locale};function _(t,e){return Array.isArray(t)?t[0]:t[e]}function d(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const F=(t,e)=>{if(d(t))return!0;const r=O(e);if(Array.isArray(t))return t.every(i=>F(i,{locale:r}));const n=String(t);return r?(C[r]||C.en).test(n):Object.keys(C).some(i=>C[i].test(n))},Q=(t,e)=>{if(d(t))return!0;const r=O(e);if(Array.isArray(t))return t.every(i=>Q(i,{locale:r}));const n=String(t);return r?(w[r]||w.en).test(n):Object.keys(w).some(i=>w[i].test(n))},H=(t,e)=>{if(d(t))return!0;const r=O(e);if(Array.isArray(t))return t.every(i=>H(i,{locale:r}));const n=String(t);return r?(P[r]||P.en).test(n):Object.keys(P).some(i=>P[i].test(n))},W=(t,e)=>{if(d(t))return!0;const r=O(e);if(Array.isArray(t))return t.every(i=>W(i,{locale:r}));const n=String(t);return r?(M[r]||M.en).test(n):Object.keys(M).some(i=>M[i].test(n))};function jt(t){return Array.isArray(t)?{min:t[0],max:t[1]}:t}const K=(t,e)=>{if(d(t))return!0;const{min:r,max:n}=jt(e);if(Array.isArray(t))return t.every(a=>K(a,{min:r,max:n}));const i=Number(t);return Number(r)<=i&&Number(n)>=i},Et=(t,e)=>{const r=_(e,"target");return String(t)===String(r)},Y=(t,e)=>{if(d(t))return!0;const r=_(e,"length");if(Array.isArray(t))return t.every(i=>Y(i,{length:r}));const n=String(t);return/^[0-9]*$/.test(n)&&n.length===Number(r)},Nt=(t,e,r)=>{const n=window.URL||window.webkitURL;return new Promise(i=>{const a=new Image;a.onerror=()=>i(!1),a.onload=()=>i(a.width===e&&a.height===r),a.src=n.createObjectURL(t)})};function qt(t){return t?Array.isArray(t)?{width:Number(t[0]),height:Number(t[1])}:{width:Number(t.width),height:Number(t.height)}:{width:0,height:0}}const zt=(t,e)=>{if(d(t))return!0;const{width:r,height:n}=qt(e),i=[],a=Array.isArray(t)?t:[t];for(let l=0;l<a.length;l++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(a[l].name))return Promise.resolve(!1);i.push(a[l])}return Promise.all(i.map(l=>Nt(l,r,n))).then(l=>l.every(c=>c))},E=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Tt=t=>d(t)?!0:Array.isArray(t)?t.every(e=>E.test(String(e))):E.test(String(t)),Rt=(t,e)=>{if(d(t))return!0;const r=new RegExp(`\\.(${e.join("|")})$`,"i");return Array.isArray(t)?t.every(n=>r.test(n.name)):r.test(t.name)},Ut=t=>{if(d(t))return!0;const e=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(t)?t.every(r=>e.test(r.name)):e.test(t.name)},Bt=t=>d(t)?!0:Array.isArray(t)?t.every(e=>/^-?[0-9]+$/.test(String(e))):/^-?[0-9]+$/.test(String(t)),It=(t,e)=>{const r=_(e,"other");return t===r},Ft=(t,e)=>{const r=_(e,"other");return t!==r},Qt=(t,e)=>{if(d(t))return!0;const r=_(e,"length");return typeof t=="number"&&(t=String(t)),t.length||(t=Array.from(t)),t.length===Number(r)},G=(t,e)=>{if(d(t))return!0;const r=_(e,"length");return Array.isArray(t)?t.every(n=>G(n,{length:r})):[...String(t)].length<=Number(r)},J=(t,e)=>{if(d(t))return!0;const r=_(e,"max");return Array.isArray(t)?t.length>0&&t.every(n=>J(n,{max:r})):Number(t)<=Number(r)},N=/\+(.+)?/;function Ht(t){let e=t;return N.test(t)&&(e=t.replace(N,"(\\+$1)?")),new RegExp(e.replace("*",".+"),"i")}const Wt=(t,e)=>{if(d(t))return!0;e||(e=[]);const r=e.map(Ht);return Array.isArray(t)?t.every(n=>r.some(i=>i.test(n.type))):r.some(n=>n.test(t.type))},X=(t,e)=>{if(d(t))return!0;const r=_(e,"length");return Array.isArray(t)?t.every(n=>X(n,{length:r})):[...String(t)].length>=Number(r)},tt=(t,e)=>{if(d(t))return!0;const r=_(e,"min");return Array.isArray(t)?t.length>0&&t.every(n=>tt(n,{min:r})):Number(t)>=Number(r)},j=(t,e)=>d(t)?!0:Array.isArray(t)?t.every(r=>j(r,e)):Array.from(e).some(r=>r==t),Kt=(t,e)=>d(t)?!0:!j(t,e),Yt=/^[٠١٢٣٤٥٦٧٨٩]+$/,Gt=/^[0-9]+$/,Jt=t=>{if(d(t))return!0;const e=r=>{const n=String(r);return Gt.test(n)||Yt.test(n)};return Array.isArray(t)?t.every(e):e(t)},et=(t,e)=>{if(d(t))return!0;let r=_(e,"regex");return typeof r=="string"&&(r=new RegExp(r)),Array.isArray(t)?t.every(n=>et(n,{regex:r})):r.test(String(t))};function Xt(t){return t==null}function te(t){return Array.isArray(t)&&t.length===0}const rt=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t),ee=t=>Xt(t)||te(t)||t===!1?!1:!!String(t).trim().length,re=(t,e)=>{if(d(t))return!0;let r=_(e,"size");if(r=Number(r),isNaN(r))return!1;const n=r*1024;if(!Array.isArray(t))return t.size<=n;for(let i=0;i<t.length;i++)if(t[i].size>n)return!1;return!0},se=(t,e)=>{var r;if(d(t))return!0;let n=_(e,"pattern");typeof n=="string"&&(n=new RegExp(n));try{new URL(t)}catch{return!1}return(r=n==null?void 0:n.test(t))!==null&&r!==void 0?r:!0};function ne(t){return Object.keys(t)}function ie(t){return{__type:"VVTypedSchema",async parse(r){if(typeof t=="string")return{errors:[{errors:(await it(r,t)).errors}]};const n=await ot(t,r);return{errors:ne(n.errors).map(i=>{var a;return{path:i,errors:((a=n.results[i])===null||a===void 0?void 0:a.errors)||[]}})}},describe(r){return r?rt(t)&&r in t?q(t[r]):{required:!1,exists:!1}:q(t)}}}function q(t){return typeof t=="string"?{exists:!0,required:t.includes("required")}:rt(t)?{exists:!0,required:!!t.required}:{required:!1,exists:!0}}const z=Object.freeze(Object.defineProperty({__proto__:null,alpha:F,alpha_dash:Q,alpha_num:H,alpha_spaces:W,between:K,confirmed:Et,digits:Y,dimensions:zt,email:Tt,ext:Rt,image:Ut,integer:Bt,is:It,is_not:Ft,length:Qt,max:G,max_value:J,mimes:Wt,min:X,min_value:tt,not_one_of:Kt,numeric:Jt,one_of:j,regex:et,required:ee,size:re,toTypedSchema:ie,url:se},Symbol.toStringTag,{value:"Module"}));/**
  * vee-validate v4.12.5
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function T(t){return typeof t=="function"}function oe(t){return typeof t=="object"&&t!==null}function ae(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function R(t){if(!oe(t)||ae(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function st(t,e){return Object.keys(e).forEach(r=>{if(R(e[r])&&R(t[r])){t[r]||(t[r]={}),st(t[r],e[r]);return}t[r]=e[r]}),t}function U(t,e){return t.replace(/(\d:)?{([^}]+)}/g,function(r,n,i){if(!n||!e.params)return i in e?e[i]:e.params&&i in e.params?e.params[i]:`{${i}}`;if(!Array.isArray(e.params))return i in e.params?e.params[i]:`{${i}}`;const a=Number(n.replace(":",""));return a in e.params?e.params[a]:`${n}{${i}}`})}class le{constructor(e,r){this.container={},this.locale=e,this.merge(r)}resolve(e){return this.format(this.locale,e)}getLocaleDefault(e,r){var n,i,a,l,c;return((a=(i=(n=this.container[e])===null||n===void 0?void 0:n.fields)===null||i===void 0?void 0:i[r])===null||a===void 0?void 0:a._default)||((c=(l=this.container[e])===null||l===void 0?void 0:l.messages)===null||c===void 0?void 0:c._default)}resolveLabel(e,r,n){var i,a,l,c;return n?((a=(i=this.container[e])===null||i===void 0?void 0:i.names)===null||a===void 0?void 0:a[n])||n:((c=(l=this.container[e])===null||l===void 0?void 0:l.names)===null||c===void 0?void 0:c[r])||r}format(e,r){var n,i,a,l,c;let f;const{rule:p,form:$,label:v,name:o}=r,y=this.resolveLabel(e,o,v);return p?(f=((a=(i=(n=this.container[e])===null||n===void 0?void 0:n.fields)===null||i===void 0?void 0:i[o])===null||a===void 0?void 0:a[p.name])||((c=(l=this.container[e])===null||l===void 0?void 0:l.messages)===null||c===void 0?void 0:c[p.name]),f||(f=this.getLocaleDefault(e,o)||`${y} is not valid`),T(f)?f(r):U(f,Object.assign(Object.assign({},$),{field:y,params:p.params}))):(f=this.getLocaleDefault(e,o)||`${y} is not valid`,T(f)?f(r):U(f,Object.assign(Object.assign({},$),{field:y})))}merge(e){st(this.container,e)}}const x=new le("en",{});function de(t,e){const r=n=>x.resolve(n);return typeof t=="string"?(x.locale=t,e&&x.merge({[t]:e}),r):(x.merge(t),r)}function ce(t){x.locale=t}const ue="zh_TW",me={_default:"{field} 的值無效",alpha:"{field} 須以英文組成",alpha_dash:"{field} 須以英數、破折號及底線組成",alpha_num:"{field} 須以英數組成",alpha_spaces:"{field} 須以英文及空格組成",between:"{field} 須介於 0:{min} 至 1:{max}之間",confirmed:" {field} 不一致",digits:"{field} 須為 0:{length} 位數字",dimensions:"{field} 圖片尺寸不正確。須為 0:{width} x 1:{height} 像素",email:"{field} 須為有效的電子信箱",not_one_of:"{field} 的選項無效",ext:"{field} 須為有效的檔案",image:"{field} 須為圖片",one_of:"{field} 的選項無效",integer:"{field} 須為整數",length:"{field} 的長度須為 0:{length}",max:"{field} 不能大於 0:{length} 個字元",max_value:"{field} 不得大於 0:{max}",mimes:"{field} 須為有效的檔案類型",min:"{field} 不能小於 0:{length} 個字元",min_value:"{field} 不得小於 0:{min}",numeric:"{field} 須為數字",regex:"{field} 的格式錯誤",required:"{field} 為必填",required_if:"{field} 為必填",size:"{field} 的檔案須小於 0:{size}KB",url:"{field} 須為有效的URL"},he={code:ue,messages:me},{VITE_APP_URL:A,VITE_APP_PATH:b}={VITE_APP_URL:"https://ec-course-api.hexschool.io/",VITE_APP_PATH:"pinyi9",BASE_URL:"/2024vueProject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};Object.keys(z).forEach(t=>{at(t,z[t])});lt({generateMessage:de({zh_TW:he}),validateOnInput:!0});ce("zh_TW");const fe={data(){return{products:null,tempData:{},userPrductMoreModal:null,carts:{},status:{addCartLoading:"",cartQtyLoading:""}}},methods:{getProducts(){this.axios.get(`${A}V2/api/${b}/products/all`).then(t=>{this.products=t.data.products}).catch(t=>{console.log(t)})},openModal(t){this.$refs.userProductMoreModal.openModal(),this.tempData=t},addToCart(t,e=1){const r={product_id:t,qty:e};this.status.addCartLoading=t,this.axios.post(`${A}V2/api/${b}/cart`,{data:r}).then(n=>{console.log(n.data.message),this.status.addCartLoading="",this.getCart(),this.$refs.userProductMoreModal.closeModal()}).catch(n=>{console.log(n.response.data.message)})},getCart(){this.axios.get(`${A}V2/api/${b}/cart`).then(t=>{console.log(t),this.carts=t.data.data,console.log(this.carts)}).catch(t=>{console.log(t.response.data.message)})},changeCartQty(t,e=1){const r={product_id:t.product_id,qty:e};this.status.cartQtyLoading=t.id,this.axios.put(`${A}V2/api/${b}/cart/${t.id}`,{data:r}).then(n=>{console.log(n.data.message),this.status.cartQtyLoading="",this.getCart()}).catch(n=>{console.log(n.response.data.message)})},removeCartItem(t){this.status.cartQtyLoading=t,this.axios.delete(`${A}V2/api/${b}/cart/${t}`).then(e=>{console.log(e),this.status.cartQtyLoading="",this.getCart()}).catch(e=>{console.log(e.response.data.message)})},removeAllCart(){this.axios.delete(`${A}V2/api/${b}/carts`).then(t=>{console.log(t.data.message),this.getCart()}).catch(t=>{console.log(t.response.data.message)})},onSubmit(){this.$refs.form.resetForm(),document.getElementById("message").value=""},isPhone(t){return/^(09)[0-9]{8}$/.test(t)?!0:"需要正確的電話號碼"}},components:{UserProductMoreModal:St},mounted(){this.getProducts(),this.getCart()}},_e={id:"app"},ge={class:"container"},ye={class:"mt-4"},pe={class:"table align-middle"},Ae=s("thead",null,[s("tr",null,[s("th",null,"圖片"),s("th",null,"商品名稱"),s("th",null,"價格"),s("th")])],-1),be={style:{width:"200px"}},$e={key:0,class:"h5"},Ze={key:1},xe={class:"h6"},ve={class:"h5"},Ve={class:"btn-group btn-group-sm"},ke=["onClick"],Ce=s("i",{class:"fas fa-spinner fa-pulse"},null,-1),Me=["disabled","onClick"],Pe={key:0,class:"spinner-border spinner-border-sm","aria-hidden":"true"},we={class:"text-end"},Oe={class:"table align-middle"},De=s("thead",null,[s("tr",null,[s("th"),s("th",null,"品名"),s("th",{style:{width:"200px"}},"數量/單位"),s("th",null,"單價")])],-1),Le=["onClick","disabled"],Se=s("i",{class:"fas fa-spinner fa-pulse"},null,-1),je={class:"input-group input-group-sm"},Ee={class:"input-group mb-3"},Ne=["disabled","onClick"],qe=["onClick"],ze=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash3",viewBox:"0 0 16 16"},[s("path",{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"})],-1),Te=[ze],Re=["onUpdate:modelValue","disabled"],Ue={class:"input-group-text",id:"basic-addon2"},Be=["onClick"],Ie={class:"text-end"},Fe=s("td",{colspan:"3",class:"text-end"},"總計",-1),Qe={class:"text-end"},He={class:"container"},We={class:"my-5 row justify-content-center"},Ke={class:"mb-3"},Ye=s("label",{for:"email",class:"form-label"},"Email",-1),Ge={class:"mb-3"},Je=s("label",{for:"name",class:"form-label"},"收件人姓名",-1),Xe={class:"mb-3"},tr=s("label",{for:"tel",class:"form-label"},"收件人電話",-1),er={class:"mb-3"},rr=s("label",{for:"address",class:"form-label"},"收件人地址",-1),sr=s("div",{class:"mb-3"},[s("label",{for:"message",class:"form-label"},"留言"),s("textarea",{id:"message",class:"form-control",cols:"30",rows:"10",placeholder:"有什麼想跟我們說的都歡迎留言(´▽`ʃ♡ƪ)"})],-1),nr=s("div",{class:"text-end"},[s("button",{type:"submit",class:"btn btn-danger"},"送出訂單")],-1);function ir(t,e,r,n,i,a){var $,v;const l=V("v-field"),c=V("error-message"),f=V("v-form"),p=V("user-product-more-modal");return m(),h("div",_e,[s("div",ge,[s("div",ye,[s("table",pe,[Ae,s("tbody",null,[(m(!0),h(L,null,S(i.products,o=>(m(),h("tr",{key:o.id},[s("td",be,[s("div",{style:ct([{height:"150px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${o.imageUrl})`}])},null,4)]),s("td",null,u(o.title),1),s("td",null,[o.origin_price===o.price?(m(),h("div",$e,u(o.price)+" 元",1)):(m(),h("div",Ze,[s("del",xe,"原價 "+u(o.origin_price)+" 元",1),s("div",ve,"現在只要 "+u(o.price)+" 元",1)]))]),s("td",null,[s("div",Ve,[s("button",{type:"button",class:"btn btn-outline-secondary",onClick:y=>a.openModal(o)},[Ce,D(" 查看更多 ")],8,ke),s("button",{type:"button",class:"btn btn-outline-danger",disabled:o.id===i.status.addCartLoading,onClick:y=>a.addToCart(o.id)},[o.id===i.status.addCartLoading?(m(),h("span",Pe)):ut("",!0),D(" 加到購物車 ")],8,Me)])])]))),128))])]),s("div",we,[s("button",{class:"btn btn-outline-danger",type:"button",onClick:e[0]||(e[0]=(...o)=>a.removeAllCart&&a.removeAllCart(...o))}," 清空購物車 ")]),s("table",Oe,[De,s("tbody",null,[(m(!0),h(L,null,S(($=i.carts)==null?void 0:$.carts,o=>{var y;return m(),h("tr",{key:o.id},[s("td",null,[s("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:Z=>a.removeCartItem(o.id),disabled:i.status.cartQtyLoading===o.id},[Se,D(" x ")],8,Le)]),s("td",null,u((y=o==null?void 0:o.product)==null?void 0:y.title),1),s("td",null,[s("div",je,[s("div",Ee,[o.qty>1?(m(),h("button",{key:0,type:"button",class:"btn btn-outline-secondary",disabled:o.qty===1,onClick:Z=>{o.qty--,a.changeCartQty(o,o.qty)}}," - ",8,Ne)):(m(),h("button",{key:1,type:"button",class:"btn btn-outline-danger",onClick:Z=>a.removeCartItem(o.id)},Te,8,qe)),I(s("input",{min:"1",type:"number",class:"form-control","onUpdate:modelValue":Z=>o.qty=Z,disabled:o.id===i.status.cartQtyLoading,readonly:""},null,8,Re),[[mt,o.qty]]),s("span",Ue,u(o.product.unit),1),s("button",{type:"button",class:"btn btn-outline-secondary",onClick:Z=>{o.qty++,a.changeCartQty(o,o.qty)}}," + ",8,Be)])])]),s("td",Ie,u(o==null?void 0:o.total),1)])}),128))]),s("tfoot",null,[s("tr",null,[Fe,s("td",Qe,u((v=i.carts)==null?void 0:v.final_total)+" 元",1)])])])])]),s("div",He,[s("div",We,[g(f,{onSubmit:a.onSubmit,ref:"form",class:"col-md-6"},{default:dt(({errors:o})=>[s("div",Ke,[Ye,g(l,{id:"email",name:"email",type:"email",class:k(["form-control",{"is-invalid":o.email}]),rules:"email|required",placeholder:"請輸入 Email"},null,8,["class"]),g(c,{name:"email",class:"invalid-feedback"})]),s("div",Ge,[Je,g(l,{id:"name",name:"姓名",type:"text",class:k(["form-control",{"is-invalid":o.姓名}]),placeholder:"請輸入姓名",rules:"required"},null,8,["class"]),g(c,{name:"姓名",class:"invalid-feedback"})]),s("div",Xe,[tr,g(l,{id:"tel",name:"電話",type:"text",class:k(["form-control",{"is-invalid":o.電話}]),rules:a.isPhone,placeholder:"請輸入電話"},null,8,["rules","class"]),g(c,{name:"電話",class:"invalid-feedback"})]),s("div",er,[rr,g(l,{id:"address",name:"地址",type:"text",class:k(["form-control",{"is-invalid":o.地址}]),placeholder:"請輸入地址",rules:"required"},null,8,["class"]),g(c,{name:"地址",class:"invalid-feedback"})]),sr,nr]),_:1},8,["onSubmit"])])]),g(p,{"temp-data":i.tempData,"add-to-cart":a.addToCart,ref:"userProductMoreModal"},null,8,["temp-data","add-to-cart"])])}const ar=B(fe,[["render",ir]]);export{ar as default};
